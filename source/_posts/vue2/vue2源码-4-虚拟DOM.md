---
title: Vue2源码-5-虚拟DOM
tags:
  - Vue2
  - Vue2源码
  - 虚拟DOM
description: Vue2中的虚拟DOM简介
categories: Vue2
abbrlink: 1298496172
date: 2020-01-22 10:27:05
---

# 虚拟DOM

> 虚拟DOM是将状态映射成试图的众多解决方案中的一种。
>
> 原理：使用状态生成虚拟的节点，然后使用虚拟节点渲染视图

## 使用原因

> 如果直接用状态生成真实DOM，会有一定程度的性能浪费。而创建虚拟节点再渲染视图，就可以将虚拟节点缓存，然后使用新创建的虚拟节点和上一次渲染诗缓存的虚拟节点进行对比，根据对比结果只更新需要更新的真实DOM节点。从而避免不必要的DOM操作，节省一定的性能开销。

## 中等粒度

状态侦测不再细化到某个具体节点，而是某个组件，组件内部通过虚拟DOM来渲染视图。以减少依赖数量和watcher数量。

## 流程

![](http://img.chensenran.top/1579662555079.png)

![](http://img.chensenran.top/1579662600563.png)

